<div class="container">
  <div class="row">
    <div class="col mt-2 d-flex justify-content-end">
      <button class="btn btn-primary" routerLink="../create-loan">
        Apply For Loan
      </button>
    </div>
  </div>
  <div class="row">
    <div class="card custom-card" *ngIf="isShown; else addLoanPromptDiv">
      <p-table [value]="accounts" responsiveLayout="scroll">
        <ng-template pTemplate="caption">
          <h1>Loan Details</h1>
        </ng-template>
        <ng-template pTemplate="header">
          <tr>
            <th>Loan Id</th>
            <th>Loan Amount</th>
            <th>Purpose</th>
            <th>Remaining Amount</th>
            <th>Interest</th>
            <th>Tenure in Months</th>
            <th>Monthly EMI</th>
            <th>Account Id</th>
          </tr>
        </ng-template>
        <ng-template pTemplate="body" let-account>
          <tr>
            <td>{{ account.loan.loanId }}</td>
            <td>{{ account.loan.loanAmount | currency : "USD" : "symbol" }}</td>
            <td>{{ account.loan.loanPurpose }}</td>
            <td>
              {{ account.loan.remainingAmount | currency : "USD" : "symbol" }}
            </td>
            <td>{{ account.loan.interest }} %</td>
            <td>
              {{ account.loan.tenureInMonths }} ({{
                account.loan.tenureInMonths / 12
              }}
              years)
            </td>
            <td>{{ account.loan.monthlyEMI | currency : "USD" : "symbol" }}</td>
            <td>{{ account.accountId }}</td>
          </tr>
        </ng-template>
      </p-table>
    </div>
  </div>
  <ng-template #addLoanPromptDiv>
    <div>
      <h3>No Loan Present!</h3>
      <h5>Please add new loan using the 'Apply Loan' buton.</h5>
    </div>
  </ng-template>
</div>
